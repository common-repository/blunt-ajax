function bluntAjax(e){function t(e,a){var n="";a||(a="");for(i in e){var r=i;if(""!=a&&(r=a+"["+r+"]"),"object"==typeof e[i]){var o=t(e[i],r);""!=o&&(n+="&"+o)}else{""!=n&&(n+="&");var l=e[i];switch(b){case"escape":l=escape(l);break;case"uri":l=encodeURIComponent(l);break;case"none":}n+=r+"="+l}}return n}function a(){var e=!1;try{e=new XMLHttpRequest}catch(t){for(var a=new Array("MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.5.0","MSXML2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"),n=0;n<a.length&&!e;n++)try{e=new ActiveXObject(a[n])}catch(t){}}return e}function n(){"object"==typeof s&&(s=t(s));var e,a=!1;if(L){A=!0,"GET"==d?(""!=s&&(l=l+"?"+s),e=null):e=s;try{L.open(d,l,!0),L.onreadystatechange=r,"POST"==d&&L.setRequestHeader("Content-type","application/x-www-form-urlencoded"),L.send(e)}catch(n){g="Error sending request",a=!0}}a&&bluntAjaxReturn(c,M,f,p,A,y,g,T,o)}function r(){if(T="",4==L.readyState){if(200==L.status){y=200,g=L.statusText;try{M=L.responseText}catch(e){T=e.toString()}}else y=L.status,g=L.statusText;bluntAjaxReturn(c,M,f,p,A,y,g,T,o)}}if(bluntAjaxOptions){var o=bluntAjaxOptions.debug,l=bluntAjaxOptions.url,u=!1,c=bluntAjaxDefaultCallback,s="",d="GET",f=!1,b="none",p=!1;"undefined"!=typeof e.debug&&("boolean"==typeof e.debug?o=e.debug:(u=!0,o&&alert("Blunt Ajax: "+e[i]+" is not a valid value for debug")));for(i in e)switch(i){case"debug":break;case"encoding":;if(e[i]&&"string"==typeof e[i]){var j=e[i];("none"==j||"escape"==j||"uri"==j)&&(incoding_error=!1,b=j)}incoding_error&&(u=!0,o&&alert("Blunt Ajax: "+e[i]+" is not a valid encoding"));break;case"url":e[i]&&"string"==typeof e[i]?l=e[i]:(u=!0,o&&alert("Blunt Ajax: "+e[i]+" is not a valid URL"));break;case"callback":e[i]&&"function"==typeof e[i]?c=e[i]:(u=!0,o&&alert("Blunt Ajax: "+e[i]+" is not a valid callback function"));break;case"method":var x=!0;if(e[i]&&"string"==typeof e[i]){var v=e[i];v=v.toUpperCase(),("POST"==v||"GET"==v)&&(x=!1,d=v)}x&&(u=!0,o&&alert("Blunt Ajax: "+e[i]+" is not a valid method"));break;case"element_id":e[i]&&"undefined"!=typeof document.getElementById(e[i])?f=e[i]:(u=!0,o&&alert("Blunt Ajax: "+e[i]+" is not a valid element id in this document"));break;case"parameters":e[i]&&"object"==typeof e[i]?s=e[i]:(u=!0,o&&alert("Blunt Ajax: the value supplied for parameters is not a valid Object"));break;case"pass":p=e[i]}if(!u){var A=!1,T=!1,y=!1,g=!1,M=!1,L=a();n()}}}function bluntAjaxReturn(e,t,a,n,i,r,o,l,u){i?200==r?""==l?e(t,a,n):u&&alert("Blunt Ajax: "+l):u&&alert("Blunt Ajax: "+r+": "+o):u&&alert("Blunt Ajax: Failed to create an http connection!")}function bluntAjaxDefaultCallback(e,t,a){t!==!1?document.getElementById(t).innerHTML=e:alert(e)}